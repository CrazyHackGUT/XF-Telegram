<?xml version="1.0" encoding="utf-8"?>
<template_modifications>
  <modification type="public" template="PAGE_CONTAINER" modification_key="kruzya_telegram_script_media" description="Adds the JavaScript function for correct loading media content" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<meta charset="utf-8" />]]></find>
    <replace><![CDATA[$0
<xf:js src="Kruzya/Telegram/post-widget.js" min="0" />]]></replace>
  </modification>
  <modification type="public" template="account_preferences" modification_key="telegram_preferences_mod" description="Adds a Telegram Settings" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[<xf:submitrow icon="save" sticky="true" />]]></find>
    <replace><![CDATA[<xf:if is="$telegram">
  <h2 class="block-formSectionHeader"><span class="block-formSectionHeader-aligner">{{ phrase('telegram_preferences') }}</span></h2>
  <div class="block-body">
    <xf:checkboxrow rowtype="noColon" label="">
      <xf:option name="telegram[notifications]" checked="{{ $telegram.notifications }}">
        {{ phrase('telegram_notifications') }} <br /> {{ phrase('telegram_notifications.note') }}
      </xf:option>
    </xf:checkboxrow>
  </div>
</xf:if>
$0]]></replace>
  </modification>
  <modification type="public" template="core.less" modification_key="kruzya_telegram_button_less" description="Add custom buttons to account provider" execution_order="10" enabled="1" action="str_replace">
    <find><![CDATA[{{ include('core_button.less') }}]]></find>
    <replace><![CDATA[$0
{{ include('kruzya_telegram_button.less') }}]]></replace>
  </modification>
</template_modifications>
